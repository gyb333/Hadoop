<?xml version="1.0"?>
 
<configuration>

<!-- Site specific YARN configuration properties -->

	<!-- 开启RM高可用 -->
	<property>
        	<name>yarn.resourcemanager.ha.enabled</name>
        	<value>true</value>
     	</property>
 
	<!-- 指定RM的cluster id -->
     	<property>
        	<name>yarn.resourcemanager.cluster-id</name>
        	<value>yrc</value>
     	</property>
 
	<!-- 指定RM的名字 -->
     	<property>
        	<name>yarn.resourcemanager.ha.rm-ids</name>
        	<value>rm1,rm2</value>
     	</property>
 
	<!-- 分别指定RM的地址 -->
     	<property>
        	<name>yarn.resourcemanager.hostname.rm1</name>
        	<value>Master</value>
     	</property>
     	<property>
        	<name>yarn.resourcemanager.hostname.rm2</name>
        	<value>Second</value>
     	</property>
	<!-- rm1的http通信地址 -->
		<property>
		<name>yarn.resourcemanager.webapp.address.rm1</name>
			<value>Master:8088</value>
		</property>
		<property>
			<name>yarn.resourcemanager.webapp.address.rm2</name>
			<value>Second:8088</value>
		</property>


	<!-- 指定zk集群地址 -->
     	<property>
        	<name>yarn.resourcemanager.zk-address</name>
        	<value>Master:2181,Second:2181,Slave:2181</value>
     	</property>
	
	<!-- 启用自动恢复 -->
     	<property>
        	<name>yarn.resourcemanager.recovery.enabled</name>
        	<value>true</value>
     	</property>
	
	<!-- 制定resourcemanager的状态信息存储在zookeeper集群上 -->
     	<property>
        	<name>yarn.resourcemanager.store.class</name>
       	<value>org.apache.hadoop.yarn.server.resourcemanager.recovery.ZKRMStateStore</value>
     	</property>

        <property>
                <name>yarn.nodemanager.aux-services</name>
                <value>mapreduce_shuffle</value>
        </property>
		
     	<property>
        	<name>yarn.log-aggregation-enable</name>
        	<value>true</value>
     	</property>
 
     	<property>
        	<name>yarn.log-aggregation.retain-seconds</name>
        	<value>86400</value>
     	</property>
<property>
        <name>yarn.nodemanager.env-whitelist</name>
        <value>
		JAVA_HOME,
		HADOOP_COMMON_HOME,
		HADOOP_HDFS_HOME,
		HADOOP_CONF_DIR,
		CLASSPATH_PREPEND_DISTCACHE,
		HADOOP_YARN_HOME,
		HADOOP_MAPRED_HOME
		</value>
</property>	

   <property>
        <name>mapreduce.application.classpath</name>
        <value>$HADOOP_HOME/share/hadoop/mapreduce/*:$HADOOP_HOME/share/hadoop/mapreduce/lib/*</value>
   </property>

<property>
    <name>mapreduce.application.classpath</name>
    <value>
        /usr/local/hadoop3/etc/hadoop,
        /usr/local/hadoop3/share/hadoop/common/*,
        /usr/local/hadoop3/share/hadoop/common/lib/*,
        /usr/local/hadoop3/share/hadoop/hdfs/*,
        /usr/local/hadoop3/share/hadoop/hdfs/lib/*,
        /usr/local/hadoop3/share/hadoop/mapreduce/*,
        /usr/local/hadoop3/share/hadoop/mapreduce/lib/*,
        /usr/local/hadoop3/share/hadoop/yarn/*,
        /usr/local/hadoop3/share/hadoop/yarn/lib/*
    </value>
</property>   

</configuration>
